name: Portfolio Documentation Validation

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  validate:
    runs-on: ubuntu-latest

    steps:
      # 1. R√©cup√©rer le code du d√©p√¥t
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. V√©rifier que le README existe et n'est pas vide
      - name: Validate README
        run: |
          if [ ! -f README.md ]; then
            echo "‚ùå README.md manquant"
            exit 1
          fi
          if [ ! -s README.md ]; then
            echo "‚ùå README.md est vide"
            exit 1
          fi
          echo "‚úÖ README.md valide"

      # 3. V√©rifier la structure du r√©pertoire
      - name: Check repository structure
        run: |
          echo "üìÅ Structure du r√©pertoire:"
          find . -type f -not -path "./.git/*" | sort
          echo "‚úÖ V√©rification de structure termin√©e"

      # 4. Validation finale
      - name: Final validation
        run: echo "‚úÖ Validation termin√©e avec succ√®s pour Yakoubi-Yamina-Portfolio-Global"
